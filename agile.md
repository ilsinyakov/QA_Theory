# Гибкая методология

## Содержание

* [Гибкая методология (Agile) или каскадная модель (Waterfall)](#гибкая-методология-agile-или-каскадная-модель-waterfall)
	* [Каскадная модель](#каскадная-модель)
	* [Гибкая разработка (Agile)](#гибкая-разработка-agile)
	* [Выбор методологии](#выбор-методологии)
* [Ключевые принципы и идеи гибкой разработки](#ключевые-принципы-и-идеи-гибкой-разработки)
* [Виды гибкой разработки](#виды-гибкой-разработки)
	* [Канбан](#канбан)
	* [Lean](#lean)
	* [Scrum](#scrum)
		* [Роли, предусмотренные в методе Scrum](#роли-предусмотренные-в-методе-scrum)
		* [Терминология, используемая в методе Scrum](#терминология-используемая-в-методе-scrum)
		* [SCRUM митинги](#scrum-митинги)
		* [Пользовательские истории](#пользовательские-истории)
		* [Ретроспектива](#ретроспектива)

## Гибкая методология (Agile) или каскадная модель (Waterfall)

В наши дни чаще всего используются два подхода к разработке программного обеспечения: каскадная модель (Waterfall) и гибкая разработка (Agile).  Каскадная модель применяется на протяжении десятилетий, но неудобство строгих рамок каскадной модели привело к появлению гибкой методологии. 

### Каскадная модель

В каскадной модели разработки ПО предусмотрены обособленные этапы, каждый из которых зависит от результатов предыдущего.  До начала новой стадии предыдущая должна быть полностью завершена.  В самом конце результатом будет функциональное наполнение разработанного продукта.  

На рисунке ниже показана схема из строго предписанных шагов.

![Каскадная модель](https://github.com/ilsinyakov/QA_Theory/blob/main/Pictures/cascade_model.png)

> Каскадная (водопадная) модель процесса разработки программного обеспечения. Этапы - Анализ, Утверждение требований, Имплементация, Тестирование, Релиз. Обратная стрелка - стабилизация.

1. *Анализ*: на этом этапе узнают потребности конечного пользователя.  Какие существуют прикладные потребности и как на них можно ответить с помощью ПО?  В ходе этой фазы вырабатываются требования. (ЧТО необходимо?)
2. *Утверждение требований*: документируются конкретные потребности конечных пользователей.  Требования записываются таким образом, чтобы определить, КАК код будет разрабатываться, чтобы удовлетворить потребности пользователей.
3. *Разработка*: программисты пишут код, реализуя функции, зафиксированные в требованиях.  Программисты же выполняют модульное тестирование внесённых изменений с помощью юнит-тестов, а уже затем отправляют программу на тестирование специалистам по обеспечению качества.
4. *Тестирование*: на этом этапе за работу принимаются специалисты по обеспечению качества.  Они знакомятся с требованиями и создают тестовую документацию, чтобы определить, КАК тестировать соответствующие функции.  Этот шаг вместе с шагом разработки является итеративным.  Находятся дефекты, и в код вносятся изменения, после чего программы тестируются снова.
5. *Релиз*: разработка и тестирование полностью завершены.  Все заинтересованные лица согласны, что продукт функционирует, как задумано, и нет неисправленных критических дефектов.

**Преимущества каскадной (водопадной) модели (Waterfall)**
* Это проверенная временем методология, давно применяемая на практике.  Она используется множеством разных компаний.  Концепция проста, а ожидаемые результаты ясны.
* В рамках методологии требуется подробная документация уже на начальном этапе проекта.   Много времени посвящается тому, чтобы определить, что В ТОЧНОСТИ хочетcя получить, и как это будет реализовано. 
* Фазы этой модели более изолированы.  Тестировщики и программисты обычно не взаимодействуют с конечными пользователями.  С пользователями в основном работают бизнес-аналитики и «владельцы продукта».  Поскольку команды обеспечения качества и разработчики не контактируют с пользователями, у них есть больше времени на код и тест-кейсы.
* Получаемый результат предсказуем благодаря вложенным силам и времени на стадиях анализа и утверждения.

**Недостатки каскадной (водопадной) модели (Waterfall)**
* Определение конечных свойств и функций на столь ранней стадии процесса препятствуют творческому подходу к развитию продукта и внедрению новых идей по ходу разработки.  Уже после начала кодирования и тестирования может выясниться, что некоторые составляющие неверно определены ещё на этапе требований, архитектуры или проектирования.  Или что есть лучший способ достичь того же самого.
* Каскадная модель может быть очень затратна.  Перемены — неизменная часть жизни.  То, что было верным в апреле, может перестать быть таковым уже в июне.  Завершение работы над требованиями на столь ранней стадии осложняет и удорожает любые последующие манёвры, поскольку кодирование и тестирование уже начались.
* Много времени тратится на документацию вместо написания кода и тестирования.  Всё должно документироваться так, чтобы все заинтересованные лица могли воспринимать информацию единообразно.  Для этого может потребоваться МНОГО времени и средств.

### Гибкая разработка (Agile)

Agile предполагает больше взаимодействия и более короткие промежутки разработки - итерации - по сравнению с каскадной моделью. Методология предполагает самоорганизацию команд, включающих функции «владельцев продукта», бизнес-аналитиков, разработчиков, тестировщиков.  Члены команды выполняют итерацию за итерацией, чтобы определить требования, разработать код и выполнить тестирование.  Итеративные циклы гибкой разработки намного короче, чем в каскадной модели.  В этой методологии используется понятие спринта.  Спринты обычно длятся одну или две недели.

![Agile](https://github.com/ilsinyakov/QA_Theory/blob/main/Pictures/agile.png)

> Важно заметить, что нет одного большого продукта, единовременно поставляемого после завершения всей разработки.  Вместо этого предусмотрена постепенная разработка нескольких небольших продуктов (или порций функциональности).

1. *Анализ*: на этом этапе узнают потребности конечного пользователя. Какие существуют прикладные потребности и как на них можно ответить с помощью ПО? В ходе этой фазы вырабатываются требования. (ЧТО необходимо?) Этап выполняется для небольшого первоначального количества функций, а не для всего продукта сразу. Утверждение требований выполняется на этом же этапе.
На этом же этапе за работу принимаются тестировщики. Они знакомятся с требованиями и создают тестовую документацию, чтобы определить КАК тестировать соответствующие функции.
2. *Разработка*: программисты пишут код, реализуя функции, зафиксированные в требованиях. Программисты выполняют модульное тестирование внесённых изменений, а затем отправляют программу на тестирование специалистам по обеспечению качества.
На этом этапе тестировщики продолжают создавать тестовую документацию.
3. *Тестирование*:  этот шаг вместе с шагом разработки является итеративным.  Программы создаются и тестируются.  Находятся дефекты, и в код вносятся изменения.  Программы тестируются снова.
4. *Релиз*: разработка и тестирование полностью завершены.  Все заинтересованные лица согласны, что продукт функционирует, как задумано, и нет неисправленных критических дефектов.

Глобальные шаги те же, что и в каскадной модели.  Но на схеме, приведённой выше, важно обратить внимание на круг справа.  Он иллюстрирует идею итераций, затрагивающих КАЖДЫЙ шаг процесса разработки.  Т.е. цикл фактически повторяется каждую одну-две недели.

1. *Планируй (Plan)*: планируется, что будет включено в итерацию.
2. *Проектируй (Design)*: определяется, как это будет реализовано.  Как много времени займёт путь от идеи до конечного продукта.
3. *Разрабатывай (Develop)*: программисты пишут код.
4. *Тестируй (Test)*: специалисты по обеспечению качества тестируют функции на соответствие требованиям.
5. *Релиз (Release)*: прикладное применение новых функций в продукте.
6. *Обратная связь (Feedback)*: все заинтересованные лица обсуждают, что в ходе итерации было сделано хорошо, а что требуется улучшить.

**Преимущества гибкой разработки**

Появление гибкой методологии разработки ПО повысило способность команд к адаптации и позволило вносить изменения быстрее.  Результат появляется в виде небольших наиболее полезных приращений. Благодаря этому растёт скорость реакции на изменения в окружающем мире. 

* Процесс приобретает большую гибкость.  Требования и приоритеты можно легко менять на ходу.
* В командах больше воодушевления.  Все одинаково важны.  Все члены команды вносят вклад для получения качественного продукта.  Возможность определять, КАК и ЧТО должно делаться, воодушевляет отдельных разработчиков и всю команду.
* Пользователи быстрее получают нужные функции.  Скорость играет решающую роль в сегодняшнем мире, когда требования пользователей постоянно меняются.  Итеративные циклы, используемые в гибкой методологии, намного короче, чем в каскадной модели.
* Поддерживается расширение знаний.  В рамках гибкого подхода признаётся, что разработка ПО — сложный процесс.  У членов команды всегда есть возможность выяснить, как можно сделать то или иное лучше или быстрее.
* Поощряется творчество.  Возможность изменять требования позволяет использовать самые новые технологии.  Или находить лучшие способы реализации.

**Недостатки гибкой разработки (Agile)**

Гибкая разработка широко используется, но не всегда применима.

* Конечный результат и сроки менее предсказуемы по сравнению с каскадной моделью.  Процесс более итеративен и способствует изменениям, что может привести к неконтролируемому росту масштабов проекта.  Поэтому если вам важны жесткие неизменяемые сроки - не используйте Agile.
* «Владельцы продукта» в ходе процесса должны проводить больше времени во взаимодействии с командой.  Не только в начале, но и на протяжении всей разработки. Поэтому, если владельцы продукта к взаимодействию не готовы, Agile - это не ваш выбор.
* ОБЯЗАТЕЛЕН высокий уровень доверия между членами команды.  Доверие необходимо для совместной работы, включая честную обратную связь и творческий подход. Поэтому в матричной структуре и схеме "начальник всегда прав" Agile, скорее всего, не приживется.
* Переделывание неизбежно.  Из-за изменений в проекте уже разработанный код может устареть и до, и после внедрения в продукт.  Переработка кода может вызвать разочарование и заметно повысить затраты. Придется привыкнуть к тому, что с таким трудом написанная функциональность через какое-то время может быть просто удалена из проекта.

### Выбор методологии

1. Если уже на начальном этапе есть полные и качественные требования, то большая гибкость процесса разработки не потребуется, поэтому выбирайте каскадную модель.  Например: в случае внедрения изменений в законодательстве новые перемены в скором времени не последуют, поэтому весь процесс разработки можно распланировать заранее.  Если требования расплывчатые или подвержены изменениям, то выбирайте гибкую методологию.  Тогда позже будет достаточно возможностей для уточнения. 
2. При наличии строгого неизменного процесса используйте каскадную модель.  Например: нередко в государственных контрактах ТОЧНО описываются процессы, которым нужно следовать.  Но если разработчику предоставлена свобода в выборе путей реализации системы, то используйте гибкую методологию.
3. Если процесс разработки не предполагает участие «владельца продукта» (об этой роли расскажем позже), то ваш выбор — каскадная модель.  Пример: у исполняющего роль «владельца продукта» высокая загрузка и нет времени на участие в конкретном проекте.  Если «владелец продукта» входит в команду и будет участвовать в ежедневных коротких собраниях (стендапах) или хотя бы раз в спринт приходить на демо или ретроспективу, остановитесь на гибкой методологии.
4. Когда вносятся улучшения в существующий продукт с чётко определёнными функциями и интерфейсами со множеством других приложений, то следует выбрать каскадную модель.  Пример. Добавление поля в таблицу базы данных.  Необходимо изменить ВСЕ программы, обращающиеся к таблице.  ВСЕ программы необходимо изменить и протестировать до внедрения в действующий продукт.  Если проект подразумевает новый продукт или новые функции, стоит выбрать гибкую методологию.
5. Если график работ фиксированный, то может лучше подойти каскадная модель. Пример. Выход новых законов, которые нужно учесть в продукте.  Конечный срок реализации определяется вступлением закона в силу, а не «владельцем продукта».  Если есть некоторая свобода по времени, то выберите гибкую разработку.

Многие компании используют гибридный подход.  При этом одновременно применяются принципы, заложенные в каскадной модели и гибкой методологии, таким образом, чтобы оптимизировать затраты времени и ресурсов команды и при этом достичь высокого уровня удовлетворения пользователей.

## Ключевые принципы и идеи гибкой разработки

**Agile-манифест разработки программного обеспечения**

Мы постоянно открываем для себя более совершенные методы разработки
программного обеспечения, занимаясь разработкой непосредственно и помогая
в этом другим. Благодаря проделанной работе мы смогли осознать, что:

**Люди и взаимодействие** важнее процессов и инструментов  
**Работающий продукт** важнее исчерпывающей документации  
**Сотрудничество с заказчиком** важнее согласования условий контракта  
**Готовность к изменениям** важнее следования первоначальному плану

То есть, не отрицая важности того, что справа,
мы всё-таки больше ценим то, что слева.

**Основополагающие принципы Agile-манифеста**

Мы следуем таким принципам:
* Наивысшим приоритетом для нас является удовлетворение потребностей заказчика, благодаря регулярной и ранней поставке ценного программного обеспечения.
* Изменение требований приветствуется, даже на поздних стадиях разработки. Agile-процессы позволяют использовать изменения для обеспечения заказчику конкурентного преимущества.
* Работающий продукт следует выпускать как можно чаще, с периодичностью от пары недель до пары месяцев.
* На протяжении всего проекта разработчики и представители бизнеса должны ежедневно работать вместе.
* Над проектом должны работать мотивированные профессионалы. Чтобы работа была сделана, создайте условия, обеспечьте поддержку и полностью доверьтесь им.
* Непосредственное общение является наиболее практичным и эффективным способом обмена информацией как с самой командой, так и внутри команды.
* Работающий продукт — основной показатель прогресса.
* Инвесторы, разработчики и пользователи должны иметь возможность поддерживать постоянный ритм бесконечно. Agile помогает наладить такой устойчивый процесс разработки.
* Постоянное внимание к техническому совершенству и качеству проектирования повышает гибкость проекта.
* Простота — искусство минимизации лишней работы — крайне необходима.
* Самые лучшие требования, архитектурные и технические решения рождаются у самоорганизующихся команд.
* Команда должна систематически анализировать возможные способы улучшения эффективности и соответственно корректировать стиль своей работы.

## Виды гибкой разработки

### Канбан

Этот метод подходит в ситуациях, когда невозможно спрогнозировать, что именно нужно будет сделать, и когда требуется быстрое внедрение без необходимости заботиться о других аспектах работы. Метод используется для построения рабочего процесса, управления им и оптимизации. Канбан позволяет визуализовать ход работ и снизить количество незавершённых задач. В методе Канбан спринты не используются.

Доска Канбан делится на три столбца: «нужно сделать», «в работе» и «сделано». На доске виден весь процесс разработки. Доска включает работы, относящиеся к одному конкретному этапу. Команда собирается у доски на ежедневных коротких собраниях (стендапах), проведение которых строго регулируется. Команда начинает обзор с конца доски и анализирует каждое задание. Для каждого задания ставятся вопросы: «Что мешает нам переместить эту задачу на следующую стадию?», «Не застрял ли на месте исполнитель задания из-за блокирующего препятствия?», «Что нужно и сколько это займёт времени, чтобы разблокировать задачу?», «Сколько всего потребуется времени на выполнение этой задачи?». Команда концентрируется на максимально быстром выполнении задачи. 

### Lean

Lean — еще одна реализация гибкой методики Agile. Впервые метод был применён в промышленном производстве. Lean настолько хорошо зарекомендовал себя, что его приняло сообщество разработчиков программного обеспечения (ПО). В методе предусмотрено относительно малое количество строгих рекомендаций и правил, поэтому он может поспособствовать повышению продуктивности, эффективности и постоянному усовершенствованию. Lean нацелен на снижение затрат времени и издержек и на повышение качества работы. Предусмотрено пять главных правил реализации метода.

* Определите ценности с точки зрения пользователей (заказчиков). Что поможет им выполнять свою работу лучше? Во что они готовы вкладывать средства? Как мы можем удовлетворить их потребности?
* Визуально отобразите каждую ценность, шаг или процесс, вносящие вклад в создание завершённого продукта. Это поможет увидеть, какой шаг или процесс не несёт пользы для конечного продукта. Это позволяет команде обнаруживать и устранять потери времени и сил.
* Сформируйте непрерывный ход работ благодаря обучению сотрудников, чтобы они могли легко адаптироваться, обладали широким профилем знаний и навыков и были способны выполнять различные обязанности. Это позволит руководителям групп лучше распределять рабочую нагрузку.
* Создайте систему, позволяющую команде выполнять работу согласно принципу «точно в срок». Разрабатывайте ПО только по необходимости, а не заранее.
* Для максимальной реализации потенциала метода Lean необходимо постоянное совершенствование. В каждом цикле команда ищет способы для улучшения.

### Scrum

Scrum (англ.: толпа, давка, толкотня, драка, потасовка, схватка вокруг мяча в футболе, регби)— один из самых часто используемых методов гибкой разработки. Он лучше других подходит для управления проектами, в которых продукт создаётся небольшими приращениями в ходе итераций. Для управления проектом «владелец продукта» использует ежедневные короткие собрания (стендапы), а для расстановки приоритетов — список незавершённых работ по продукту (бэклог продукта). Разнопрофильная группа работает над частями продукта для реализации потенциально развёртываемого приращения — обычно в течение 2–4-недельного спринта (периода, за который необходимо разработать очередное приращение). В конце каждого спринта список незавершённых работ продукта пересматривается и назначаются новые приоритеты. Метод Scrum популярен, так как ему просто следовать и он легко масштабируем. Руководители с лёгкостью обнаруживают любые проблемы на ранних стадиях. Метод стимулирует активное сотрудничество между членами команды.

![Scrum](https://github.com/ilsinyakov/QA_Theory/blob/main/Pictures/scrum.png)

#### Роли, предусмотренные в методе Scrum

* **Владелец продукта**: создаёт пользовательские истории (пожелания пользователей, описанные пользователями функции продукта). Отлично знает проект в подробностях и отвечает за работоспособность продукта. Управляет списком незавершённых работ (бэклогом).
* **Скрам-мастер**: (мастер процесса) следит, чтобы ход работ соответствовал правилам методологии Scrum.
* **Команда**: все члены команды, работающие над конкретным проектом или приращением: разработчики, специалисты по обеспечению качества, аналитики предметной области. Работа самоорганизующихся команд задаётся несколькими принципами гибкой методики. 
	* Принцип 11: всё лучшее… исходит от самоорганизующихся команд. 
	* Принцип 6: самый эффективный и продуктивный способ обмена информации — это личное общение. 
	* Принцип 5: основа проектов — мотивированные участники, обеспечьте их необходимым и наделите свободой и полномочиями для выполнения работы. 
	* Принцип 4: технические и нетехнические участники проекта должны работать совместно на ежедневной основе.

#### Терминология, используемая в методе Scrum

* **Спринт**: период, за который необходимо выполнить работу по разработке и развёртыванию полезного фрагмента ПО. Обычно это от 2 до 4 недель. Проводится обзор задач. Обсуждаются блокирующие препятствия. Обсуждаются пользовательские истории и дефекты. *Здесь отражается принцип 3: частый выпуск работоспособного ПО.*
* **Бэклог спринта** — список незавершённых работ спринта: список задач, которые необходимо выполнить в ходе спринта. (Бэклог: от англ. backlog — портфель заказов, задолженность по выпуску продукции, нерешённые дела.)
* **Бэклог продукта** — список незавершённых работ продукта: список подлежащих реализации функций и нефункциональных требований, а также подлежащих устранению дефектов — всё, что требуется выполнить для получения работоспособного ПО. Пример: новые функции, рефакторинг программного кода, обновление ПО.
* **Пользовательские истории**: это центральная часть гибкой методики. Содержат небольшие простые функции и свойства, описанные пользователями. Наиболее часто используемый формат: «Как [вид пользователя] я хочу [какая-нибудь конкретная функция или свойство], чтобы достичь [некая польза]». Пример: как специалист по обеспечению качества я хочу систему управления тестированием, чтобы достичь повышения качества. *Принцип 10: …делать только действительно необходимое… Принцип 8: …должна быть возможность неограниченно долго сохранять постоянный темп.*
* **Задачи**: прикрепляются к историям. Позволяют отслеживать проделанную работу.

#### SCRUM митинги

* **Ежедневные короткие собрания**: скрам-собрания (митинги), собрания на ходу, летучки, также называемые «стэндап» (stand-up). Stand-up в переводе с английского означает «выполняемый стоя». Идея в том, что если собрания проводятся стоя, то собрания будут короче и эффективнее. Члены команды описывают работу, проделанную вчера, и работу, которую предстоит сделать сегодня. Также обсуждаются блокирующие препятствия. *Принцип 4: технические и нетехнические участники проекта должны работать совместно на ежедневной основе.*
* **Груминг ("причесывание", уточнение, grooming)**: Особая встреча команды, на которой обсуждаются, уточняются и оцениваются пользовательские истории из бэклога продукта в конкретных точках, которые называются задачи.  
* **Ретроспективные собрания**: проводятся в конце каждого спринта. Члены команды обсуждают, что прошло хорошо и что нужно улучшить. 
	* Принцип 12: на регулярной основе… изыскиваются пути повышения эффективности…
	* Принцип 9: постоянное внимание техническому совершенствованию и качественному проектированию повышает гибкость. 
	* Принцип 2: изменения приветствуются.

#### Пользовательские истории

Пользовательские истории — это основа основ гибкой разработки. Согласно гибкой методике, в пользовательской истории должно содержаться подробное неформальное описание функции, необходимой конечным пользователям. В ней определяется, каким образом фрагмент ПО может принести пользу конечному пользователю. Истории пишутся нетехническим языком, так как в центре внимания здесь находятся потребности пользователя. Истории помогают командам понять, для чего необходимо выполнить ту или иную часть работы и что должно быть сделано для соответствующего конечного пользователя. Истории могут быть простыми и без дополнительной информации. Для сложных историй могут быть предусмотрены прикреплённые материалы и множество ссылок на другие документы, необходимые для дополнения истории.

Многие люди используют для историй специальную схему: Как [пользовательская роль] я [хочу сделать что-то], чтобы у меня [была возможность достичь чего-то].

Пример: как наставник я хочу предоставлять учащимся образовательные материалы высокого качества, чтобы у меня была возможность научить их быть успешными специалистами по обеспечению качества.

«Пользовательская роль» — это заказчик или конечный пользователь (наставник, учащийся, бухгалтер, клиент). *Эта часть связана с принципом 1: наш главный приоритет — удовлетворение потребностей пользователей.*

«Хочу сделать что-то» — здесь описывается, что пользователь хочет совершить. Писать необходимо обязательно с точки зрения пользователя, а не технического специалиста.

«Была возможность достичь чего-то» — здесь описывается получаемая польза от совершения желаемого. Эта часть связана с проблемой, которую хочет решить пользователь.

У историй есть свой собственный цикл, как и у тест-кейсов и дефектов. Историю создают, воплощают и закрывают. Это основные статусы, но есть и другие.  
Если история «закрыта» (Closed), это означает, что она выполнена (Done). И нет необходимости в какой-либо дополнительной работе для успешной реализации истории. У некоторых историй может быть две задачи, а у некоторых — 50 задач на несколько недель (но так лучше не делать).

#### Ретроспектива

Ретроспектива проводится в конце каждого спринта и отдельная - при завершении проекта. Обычное время проведения ретроспективы - начало следующего спринта (обсуждать прошедший спринт, когда нужно срочно заканчивать все задачи, не очень целесообразно). Во время ретроспективы каждый член команды (включая джунов!) должен вслух рассказать команде, что, по его мнению, в течение спринта, было хорошо, что мешало работать, что можно сделать по-другому, что предпринять, чтобы проблемы в будущем не повторялись. Основное правило - не переходить на личности.

Неправильно: "Вася - тупой программист, он выдал мне абсолютно неработоспособную версию, таких идиотов нельзя брать на работу"

Правильно: "К сожалению, команда тестирования получила от команды разработки неработоспособную версию, что замедлило процесс тестирования. Давайте вместе подумаем, как сделать, чтобы такого не повторялось." 

Продолжительность ретроспективы - от часа до двух. Присутствие всех членов команды обязательно! Все идеи и мнения записываются и анализируются. 

Если на предыдущей ретроспективе были выявлены проблемы и намечены пути решения, то к данным проблемам обязательно нужно вернуться на ретроспективе следующего спринта и проверить, существуют ли они все еще и оказались ли намеченные пути решения действенными.

