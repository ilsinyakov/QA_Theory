# UML

## Что такое UML

**UML** означает Unified Modeling Language (унифицированный язык моделирования). Этот язык представляет собой систему стандартизованных условных обозначений для построения схем. Используя UML, можно спроектировать любой уровень приложения, определить объекты и их поведение, а также любые взаимоотношения между объектами. В схему можно включить объекты предметной области, действия пользователей, объекты программного кода и любые объекты реального мира. UML — это язык объектно-ориентированного моделирования и проектирования.

## Типы диаграмм UML

Схемы UML делятся на две большие группы:
1. **Структурные диаграммы**. Отображают объекты (обычно низкоуровневые, такие как классы программного кода или пакеты) и связи между ними. Структурные диаграммы показывают статическое состояние объектов. 
2. **Диаграммы поведения**. Отображают поведение объектов, преобразование или передачу данных, взаимодействия или последовательности событий. Диаграммы поведения показывают динамическое состояние объектов.

![Типы диаграм](https://github.com/ilsinyakov/QA_Theory/blob/main/Pictures/02-uml-diagram-types.png)

## Структурные диаграммы

Структурные диаграммы служат для низкоуровневого моделирования приложений и обычно применяются для модульного тестирования. При ручном тестировании они нужны только для изучения низкоуровневых объектов приложения и взаимосвязей между ними.

### Диаграмма классов

Показанная ниже диаграмма классов демонстрирует классы приложения покупки билетов на самолёт.

![Диаграмма классов](https://github.com/ilsinyakov/QA_Theory/blob/main/Pictures/class_diagram.jpg)

## Диаграммы поведения

С помощью таких диаграмм описывают динамику состояний, действия модулей приложений и действия пользователей.

### Диаграммы вариантов использования (Use-case diagram)

Моделируемые здесь объекты реального мира — это пользовательские сценарии (набор шагов), которые могут быть выполнены пользователем или, в редких случаях, сторонней системой в приложении. Каждый сценарий обозначается овалом, а каждое действующее лицо (пользователь или другая система) — пиктограммой человека. Действующие лица (Акторы) связаны со сценариями. Если используются связанные сценарии, то соответствующие овалы связывают друг с другом с помощью двух основных типов отношений: 

<<include>>. Связь включения применяется, если после определённого сценария обязательно необходимо выполнить другой, связанный с ним, сценарий. Например, вход пользователя в систему, а затем — отображение объектов главной страницы. 
<<extend>>. Связь расширения применяется, если последующий сценарий необязателен (может выполняться, а может и нет). Например, выход из системы после входа.  
На диаграмме ниже схематически показаны действия двух лиц: Admin (администратор) и Travel Agent (турагент). Каждое действующее лицо (актор) соединено стрелками с теми сценариями, которые оно может выполнять. Сценарии независимы друг от друга, поэтому типы <include> и <extend> на схеме не указаны.

![Use-case диаграмма](https://github.com/ilsinyakov/QA_Theory/blob/main/Pictures/use_case_diagram.jpg)

Из вышеприведённой диаграммы вариантов использования мы можем получить следующую информацию:
1. Администратор (Admin) может добавить рейс (Add Flight), отменить рейс (Cancel Flight), добавить самолёт (Add Aircraft), удалить самолёт (Remove Aircraft), добавить аэропорт (Add Airport) и войти в систему (Login).
2. Турагент (Travel Agent) может войти в систему, забронировать авиабилет (Book Flight), отменить бронирование (Cancel Reservation) и произвести поиск авиарейсов (Search Flight).
3. Клиент (Customer) может только произвести поиск авиарейсов и проверить бронирование (Verify Booking).
4. Включённых (подключённых друг к другу) или расширенных сценариев нет. 
5. Два сценария могут выполняться двумя действующими лицами: вход в систему (Login) и поиск авиарейсов (Search Flight).
6. При изменении ролей конкретного пользователя необходимо внести изменения и в возможные действия.
7. Например, если у пользователя была только роль клиента, а затем он получил роль турагента, то не нужно менять сценарий поиска авиарейсов для него, а вместо этого необходимо добавить новые сценарии. 
8. То же самое и в случае изменения роли турагента на роль клиента (некоторые сценарии должны быть после этого недоступны).

### Диаграмма последовательности

Условные обозначения диаграмм последовательности похожи на обозначения диаграмм вариантов использования. Объектами обычно являются модули программного обеспечения, показываемые как отдельные прямоугольники. Методы программных интерфейсов API (например, REST), необходимые для взаимодействия модулей, показываются стрелками с надписями. Действующие лица (турагент Travel Agent в нашем случае) инициируют процесс. Обычно одна диаграмма последовательности содержит один сценарий. Ниже показаны две диаграммы последовательности, отражающие процессы для двух овалов (поиск авиарейсов Search Flight и бронирование билета Book Flight) из диаграммы вариантов использования, приведённой выше.

![Диаграмма последовательности 1](https://github.com/ilsinyakov/QA_Theory/blob/main/Pictures/search_flight_sequence_diagram.jpg)  
![Диаграмма последовательности 2](https://github.com/ilsinyakov/QA_Theory/blob/main/Pictures/book_flight_sequence_diagram.jpg)

Объекты, входящие в диаграмму последовательности для поиска авиарейсов Search Flight.

1. Действующее лицо: турагент Travel Agent.
2. Search Flight Form (форма поиска авиарейсов): интерфейс пользователя для поиска рейсов.
3. Search Flight Controller (контроллер поиска авиарейсов): программный модуль, обрабатывающий и проверяющий запросы.
4. Flight (авиарейс): внутренний объект программного обеспечения; обычно это фрагмент кода, хранящий свойства и методы (возможные действия) объекта. В этом случае объект — это авиарейс. 
5. FlightDataAccess (доступ к информации по авиарейсам): программный модуль, взаимодействующий с базами данных.

Сценарий, показанный на диаграмме Search Flight, следующий:
1. Турагент заполняет форму поиска авиарейсов в интерфейсе пользователя.
2. Интерфейс пользователя отправляет запрос searchFlight (метод API для поиска рейса) со сведениями о рейсе (аэропорт отправления dep и назначения des, дата рейса dat) модулю SearchFlightController.
3. Далее модуль SearchFlightController вызывает метод API в модуле FlightDataAccess. Этот запрос похож на предыдущий запрос № 2: возможно, вы заметили, что модуль SearchFlightController запрашивает список авиарейсов с помощью тех же параметров (в вызове метода searchFlights).
4. Для каждого рейса контроллер выполняет действие displayFlight (отобразить авиарейс) и добавляет к отображению параметры этого рейса, полученные от объекта Flight (авиарейс).
В результате — в интерфейсе пользователя показывается список авиарейсов.

## Диаграмма состояний




